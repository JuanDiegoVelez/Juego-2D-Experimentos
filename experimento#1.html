<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Juego 2D: JavaScript - 01</title>

    <!-- Define los estilos de la interfaz visual 
         padding es la distancia de un objeto en relación con el marco que lo contiene
         margin es la distancia que separa a un objeto de otro
         background es el color de fondo
         display: block; Estos elementos fluyen hacia abajo
         margin: 0 auto; Centra el canvas en la pantalla -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');
        *{
            font-family: 'Poppins', sans-serif;
        }
        body{
            background-color: #222222;
        }
        header h1{
            color: #eeeeee;
            text-align: center;
            padding: 20px;
        }
        * { 
            padding: 0; 
            margin: 0; 
        }
        canvas { 
            background: #1d1d1dd0; 
            display: block; 
            margin: 0 auto;
        }
    </style>

</head>
<body>

    <header>
        <h1>
            JUEGO 2D
        </h1>
    </header>

<canvas id="miCanvas" width="960" height="640"></canvas>

<script>
    var canvas = document.getElementById("miCanvas");
    var ctx = canvas.getContext("2d");

    // Coloca x en la mitad del ancho deL CANVAS
    var x = canvas.width/2;

    // Coloca y en la mitad de la altura del CANVAS (restando 30 a dicho valor)
    var y = canvas.height-30;

    /* DEFINE LOS INCREMENTOS EN X y en Y. El valor dy es negativo 
       para que inicialmente el movimiento de la bola sea hacia arriba */
    var dx = -2;
    var dy = -2;

    function dibujarBola() {
        // Inicia el dibujo
        ctx.beginPath();

        /* Define un círculo en las coordenadas (x, y) con radio 10
           El ángulo va desde 0 hasta 2*PI (360 grados) */
        ctx.arc(x, y, 30, 0, Math.PI*2);

        // Color de llenado
        ctx.fillStyle = "#cb35e9d0";

        // Se llena el círculo con el color indicado
        ctx.fill();

        // Finaliza el dibujo
        ctx.closePath();
    }

    var x2 = canvas.width/2;

    var y2 = canvas.height-30;

    var dx2 = 2;
    var dy2 = -2;

    function dibujarBola2() {
        // Inicia el dibujo
        ctx.beginPath();

        /* Define un círculo en las coordenadas (x, y) con radio 10
           El ángulo va desde 0 hasta 2*PI (360 grados) */
        ctx.arc(x2, y2, 10, 0, Math.PI*2);

        // Color de llenado
        ctx.fillStyle = "#ffffff";

        // Se llena el círculo con el color indicado
        ctx.fill();

        // Finaliza el dibujo
        ctx.closePath();
    }

    var x3 = canvas.width/2;

    var y3 = canvas.height-30;

    var dx3 = 2;
    var dy3 = -2;

    function dibujarBola3() {
        // Inicia el dibujo
        ctx.beginPath();

        /* Define un círculo en las coordenadas (x, y) con radio 10
           El ángulo va desde 0 hasta 2*PI (360 grados) */
        ctx.arc(x3, y3, 5, 0, 10);

        // Color de llenado
        ctx.fillStyle = "#ff0000";

        // Se llena el círculo con el color indicado
        ctx.fill();

        // Finaliza el dibujo
        ctx.closePath();
    }

    /* LA FUNCIÓN dibujar REALIZA TRES TAREAS:
       1) Limpia el CANVAS. Inicio= (0,0) Ancho=canvas.width Altura=canvas.height
       2) Dibuja una bola en las coordenadas (x, y)
       3) Cambiar las coordenadas (x, y) agregando los valores dx, dy
          Con este cambio cada vez que se dibuja la bola, está en una nueva posición */
    function dibujar() {

        // Limpia el CANVAS
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Dibuja la bola
        dibujarBola();

        dibujarBola2();

        dibujarBola3();

        // Se incrementa x en el valor dx
        x = x + dx;

        // Se incrementa y en el valor dy
        y = y + dy;

         // Se incrementa x en el valor dx
        x2 = x2 + dx2;

        // Se incrementa y en el valor dy
        y2 = y2 + dy2;

        // Se incrementa y en el valor dy
        y3 = y3 + dy3;
    }
 
    /* EJECUTA LA FUNCIÓN dibujar CADA 10 MILISEGUNDOS
       Este es el mecanismo utilizado para construir un sistema que
       ejecuta acciones de manera permanente y periódica */ 
    setInterval(dibujar, 20);
</script>

</body>
</html>